function init(){function e(e){mouseX=.25*(e.clientX-windowHalfX),mouseY=.15*(e.clientY-windowHalfY),rotationZ=(e.clientX-windowHalfX)/windowHalfX/8}function n(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function t(){l||c||(l=!0,$("body").addClass("loaded")),c=!1,requestAnimationFrame(t),position+=cameraSpeed/3,position>7500&&(position=0),camera.position.x+=.005*(mouseX-camera.position.x)*Math.max(1,cameraSpeed/3),camera.position.y+=.005*(-mouseY-camera.position.y)*Math.max(1,cameraSpeed/3),camera.position.z=-position+8e3,camera.rotation.z+=.005*(-rotationZ-camera.rotation.z)*Math.max(1,cameraSpeed/3),renderer.render(scene,camera)}if($("html").hasClass("no-webgl")||$("body").hasClass("no-webgl"))return $("body").addClass("no-webgl"),void 0;container=document.createElement("div"),document.body.appendChild(container);var a=document.createElement("canvas");a.width=32,a.height=window.innerHeight;var i=a.getContext("2d"),o=i.createLinearGradient(0,0,0,a.height);o.addColorStop(0,"#1e4877"),o.addColorStop(.5,"#4584b4"),i.fillStyle=o,i.fillRect(0,0,a.width,a.height),camera=new THREE.PerspectiveCamera(30,window.innerWidth/window.innerHeight,1,3e3),camera.position.z=6e3,scene=new THREE.Scene,geometry=new THREE.Geometry;var r=THREE.ImageUtils.loadTexture("clouds/20.png",null,t);r.magFilter=THREE.LinearMipMapLinearFilter,r.minFilter=THREE.LinearMipMapLinearFilter;var d=new THREE.Fog("#ddd",-100,3e3);material=new THREE.ShaderMaterial({uniforms:{map:{type:"t",value:r},fogColor:{type:"c",value:d.color},fogNear:{type:"f",value:d.near},fogFar:{type:"f",value:d.far}},vertexShader:document.getElementById("vs").textContent,fragmentShader:document.getElementById("fs").textContent,depthWrite:!1,depthTest:!1,transparent:!0});for(var m=new THREE.Mesh(new THREE.PlaneGeometry(64,64)),s=0;8e3>s;s++)m.position.x=2e3*Math.random()-1e3,m.position.y=-Math.random()*Math.random()*200-15,m.position.z=s,m.rotation.z=Math.random()*Math.PI,m.scale.x=m.scale.y=Math.random()*Math.random()*3+.5,THREE.GeometryUtils.merge(geometry,m);mesh=new THREE.Mesh(geometry,material),scene.add(mesh),mesh=new THREE.Mesh(geometry,material),mesh.position.z=-8e3,scene.add(mesh),renderer=new THREE.WebGLRenderer({antialias:!1}),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),document.addEventListener("mousemove",e,!1),window.addEventListener("resize",n,!1),rotationZ=0;var l=!1,c=!0;position=0,cameraSpeed=1}var container,camera,scene,renderer,mesh,geometry,material,mouseX=0,mouseY=0,start_time=Date.now(),windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;!function(e){e(function(){init()})}(jQuery);